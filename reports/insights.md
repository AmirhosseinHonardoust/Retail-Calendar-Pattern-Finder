# Retail Calendar Pattern Finder, Insights Report

## Dataset profile
- Rows: **1,000**
- Date range: **2023-01-01 → 2024-01-01**
- Observed transaction-days: **345**
- Categories: **Beauty, Clothing, Electronics**
- Total-amount identity mismatches: **0**
- Note: Missing calendar dates are **unknown coverage**, not necessarily zero sales.

## Seasonality summary

### Day-of-week
- Best average day: **Saturday** (avg daily revenue ≈ **1,608**)
- Median daily revenue on that day ≈ **1,370**
- Observed days for that DOW: **49**

![Daily revenue by day-of-week](figures\dow_revenue.png)

### Month
- Strongest month (by total revenue): **2023-05** (≈ **53,150** across **31** observed days)
- Weakest month (by total revenue): **2024-01** (≈ **1,530** across **1** observed days)
- Reminder: if the last month is partial (few days), treat with caution.

![Monthly revenue](figures\month_revenue.png)

### Calendar heatmap (month × day-of-week)
![Heatmap](figures\heatmap_month_dow.png)

## Event-like spike days
Spikes are detected using:
1) **Robust z-score** on daily revenue using MAD
2) **Residual spikes** vs a simple seasonal baseline (month+dow → month → dow → overall)

### Top spike days (by residual z-score)
| date       | dow       | revenue   | expected_revenue   | residual   |   robust_z_residual |
|:-----------|:----------|:----------|:-------------------|:-----------|--------------------:|
| 2023-05-23 | Tuesday   | 8,455     | 3,336              | 5,119      |                5.85 |
| 2023-05-16 | Tuesday   | 7,260     | 3,336              | 3,924      |                4.52 |
| 2023-06-24 | Saturday  | 6,220     | 2,861              | 3,359      |                3.88 |
| 2023-02-01 | Wednesday | 4,700     | 1,808              | 2,892      |                3.36 |
| 2023-02-17 | Friday    | 5,890     | 3,055              | 2,835      |                3.3  |

![Spike scatter](figures\spike_scatter.png)

## Recommendations / hypotheses to test
- Staff and inventory planning should prioritize historically strong days while monitoring for residual spikes.
- When a spike is detected, investigate **category mix shifts** first (many spikes are driven by one category dominating the day).
- Add a “coverage warning” in dashboards: missing dates in the dataset are not confirmed zero-sales days.

---
Generated by `python -m src.pipeline`
